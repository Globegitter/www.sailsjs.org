<h1 id="sails-sockets-broadcast-roomname-event-data-sockettoomit-">sails.sockets.broadcast( <code>roomName</code>, [<code>event</code>], <code>data</code>, [<code>socketToOmit</code>] )</h1>
<h3 id="purpose">Purpose</h3>
<p>Broadcast a message to a room.</p>
<h3 id="overview">Overview</h3>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th></th>
<th>Description</th>
<th>Accepted Data Types</th>
<th>Required ?</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Room Name</td>
<td><code>string</code></td>
<td>Yes</td>
</tr>
<tr>
<td>2</td>
<td>Event Name</td>
<td><code>string</code></td>
<td>No</td>
</tr>
<tr>
<td>3</td>
<td>Message Data</td>
<td><code>object</code></td>
<td>Yes</td>
</tr>
<tr>
<td>4</td>
<td>Socket to skip</td>
<td><code>object</code></td>
<td>No</td>
</tr>
</tbody>
</table>
<p> If the event name is omitted, <code>&quot;message&quot;</code> will be used by default.  Thus, <code>sails.sockets.broadcast(roomName, data)</code> is also a valid usage.</p>
<p> If <code>socketToOmit</code> is provided, that socket will <em>not</em> receive the message.  This is useful if you trigger the broadcast from a client, but don&#39;t want that client to receive the message itself (for example, sending a message to everybody else in a chat room).</p>
<h3 id="example-usage">Example Usage</h3>
<pre><code class="lang-javascript">// Controller action

sayHiToFunRoom: function(req, res) {
    var room = req.param(&#39;roomName&#39;);
    sails.sockets.broadcast(room, &#39;chat&#39;, {msg: &#39;Hi there!&#39;, from: req.session.userId, room: room}, req.socket);
    res.json({
      message: &#39;Message sent!&#39;
    });
}</code></pre>
<pre><code class="lang-javascript">// Client-side -- subscribe to all &quot;chat&quot; events
socket.on(&#39;chat&#39;, function(data) {console.log(&quot;Chat from user #&quot;, data.from, &quot; in room &quot;, data.room, &quot;: &quot;, data.msg)});</code></pre>
