<h1 id="find-records">Find Records</h1>
<h3 id="purpose">Purpose</h3>
<p>Find and return records from the database.</p>
<h3 id="description">Description</h3>
<p>Responds with a JSON array of objects.</p>
<p>If request is sent using Socket.IO, the socket will be subscribed to both &quot;creates&quot; of new models (class room) and &quot;updates&quot;+&quot;destroys&quot; for all model instances returned (instance rooms). </p>
<p>This is equivalent to running <code>Pony.subscribe(req.socket)</code> and <code>Pony.subscribe(req.socket, anArrayOfPonies)</code> in a custom controller.</p>
<h3 id="examples">Examples</h3>
<h3 id="find-all-rest-">Find All (REST)</h3>
<p><code>GET http://localhost:1337/:model</code></p>
<p>Get all ponies in the database:</p>
<p><em>via the URL bar in your web browser</em><br><code>http://localhost:1337/pony</code></p>
<h4 id="expected-response">Expected Response</h4>
<pre><code class="lang-json"> [{
   &quot;name&quot;: &quot;Rainbow Dash&quot;,
   &quot;id&quot;: 1,
   &quot;createdAt&quot;: &quot;2013-10-18T01:22:56.000Z&quot;,
   &quot;updatedAt&quot;: &quot;2013-10-18T01:22:56.000Z&quot;
 },
 {
   &quot;name&quot;: &quot;Twilight Sparkle&quot;,
   &quot;id&quot;: 47,
   &quot;createdAt&quot;: &quot;2013-10-14T01:22:00.000Z&quot;,
   &quot;updatedAt&quot;: &quot;2013-10-15T01:20:54.000Z&quot;
 }]</code></pre>
<h3 id="find-one-rest-">Find One (REST)</h3>
<p><code>GET http://localhost:1337/:model/:id</code></p>
<h4 id="expected-response">Expected Response</h4>
<pre><code class="lang-json"> {
   &quot;name&quot;: &quot;Rainbow Dash&quot;,
   &quot;id&quot;: 1,
   &quot;createdAt&quot;: &quot;2013-10-18T01:22:56.000Z&quot;,
   &quot;updatedAt&quot;: &quot;2013-10-18T01:22:56.000Z&quot;
 }</code></pre>
<h3 id="find-all-shortcuts-">Find All (Shortcuts)</h3>
<p><code>http://localhost:1337/:model/find/</code></p>
<p>Like before, we will get all the ponies in the database.  This time, using the <code>Blueprint Shortcut</code> routes.</p>
<p>via web browser &#39;<a href="http://localhost:1337/pony/find/">http://localhost:1337/pony/find/</a>&#39;</p>
<h4 id="expected-response">Expected Response</h4>
<pre><code class="lang-json"> [{
   &quot;name&quot;: &quot;Rainbow Dash&quot;,
   &quot;id&quot;: 1,
   &quot;createdAt&quot;: &quot;2013-10-18T01:22:56.000Z&quot;,
   &quot;updatedAt&quot;: &quot;2013-10-18T01:22:56.000Z&quot;
 },
 {
   &quot;name&quot;: &quot;Twilight Sparkle&quot;,
   &quot;id&quot;: 47,
   &quot;createdAt&quot;: &quot;2013-10-14T01:22:00.000Z&quot;,
   &quot;updatedAt&quot;: &quot;2013-10-15T01:20:54.000Z&quot;
 }]</code></pre>
<h3 id="find-one-shortcuts-">Find One (Shortcuts)</h3>
<p><code>http://localhost:1337/:model/find/:recordID</code></p>
<p>Like before, we will just one Pony.  This time, using the <code>Blueprint Shortcut</code> routes.</p>
<p>via web browser &#39;<a href="http://localhost:1337/pony/find/47">http://localhost:1337/pony/find/47</a>&#39;</p>
<h4 id="expected-response">Expected Response</h4>
<pre><code class="lang-json"> {
   &quot;name&quot;: &quot;Twilight Sparkle&quot;,
   &quot;id&quot;: 47,
   &quot;createdAt&quot;: &quot;2013-10-14T01:22:00.000Z&quot;,
   &quot;updatedAt&quot;: &quot;2013-10-15T01:20:54.000Z&quot;
 }</code></pre>
<h3 id="find-model-collection-associated-with-a-particular-record-rest-">Find Model/Collection associated with a particular record (REST)</h3>
<p><code>GET http://localhost:1337/:model/:recordID/:associatedAttribute</code></p>
<p>Get all <code>Pet</code>s associated with the &#39;Pony&#39; who has an ID of 4. </p>
<p>via Web Browser</p>
<p><code>GET http://localhost:1337/pony/4/pets</code></p>
<h4 id="expected-response">Expected Response</h4>
<pre><code class="lang-json">[{
    &quot;name&quot;: &quot;Gummy&quot;,
    &quot;species&quot;: &quot;crocodile&quot;
    &quot;id&quot;: 10,
    &quot;createdAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;,
    &quot;updatedAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;
  },{
    &quot;name&quot;: &quot;Bubbles&quot;,
    &quot;species&quot;: &quot;crackhead&quot;
    &quot;id&quot;: 15,
    &quot;createdAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;,
    &quot;updatedAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;
  }]</code></pre>
<h3 id="find-model-collection-associated-with-a-particular-record-shortcuts-">Find Model/Collection associated with a particular record (Shortcuts)</h3>
<p>HALP!</p>
<h4 id="expected-response">Expected Response</h4>
<pre><code class="lang-json">[{
    &quot;name&quot;: &quot;Gummy&quot;,
    &quot;species&quot;: &quot;crocodile&quot;
    &quot;id&quot;: 10,
    &quot;createdAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;,
    &quot;updatedAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;
  },{
    &quot;name&quot;: &quot;Bubbles&quot;,
    &quot;species&quot;: &quot;crackhead&quot;
    &quot;id&quot;: 15,
    &quot;createdAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;,
    &quot;updatedAt&quot;: &quot;2014-02-13T00:06:50.603Z&quot;
  }]</code></pre>
<h3 id="query-parameters">Query Parameters</h3>
<p>Any and all attributes that you defined on your model can be used to filter results.</p>
<p>For instance, if our <code>Pony</code> model has a <strong>name</strong> attribute: <code>GET http://localhost:1337/pony?name=Rainbow Dash</code> would return an array of ponies with the name &quot;Rainbow Dash&quot;.</p>
<p>You can also paginate and sort results using the <code>limit</code>, <code>skip</code>, and <code>sort</code> parameters.</p>
<ul>
<li><strong>limit</strong> - the maximum number of records to send back-- useful for pagination.</li>
<li><strong>skip</strong> - the number of records to skip-- useful for pagination. e.g. the following would return the second page of 30 results <code>http://localhost:1337/pony?skip=30&amp;limit=30</code></li>
<li><strong>sort</strong> - the order in which to sort results, e.g. <code>http://localhost:1337/pony?sort=name DESC</code> or <code>http://localhost:1337/pony?sort=createdAt ASC</code></li>
</ul>
<h3 id="notes">Notes</h3>
<blockquote>
<p>The &#39;Find One&#39; method does not accept query parameters. </p>
<p>For advanced filtering, you can send a <code>where</code> query parameter with a stringified JSON object.  This object will be passed directly to Waterline as a criteria for a find, i.e. <code>Pony.find().where(req.param(&#39;where&#39;))</code>  This allows you to use <code>contains</code>, <code>&gt;</code>, <code>&lt;</code>, <code>!</code>, <code>startsWith</code>, <code>endsWith</code>, and more.  For more on query operators, check out <a href="https://github.com/balderdashy/sails-docs/edit/0.9/reference/Blueprints.md">the Model documentation</a></p>
<p>For the associations examples, while the blueprint routes work for all types of associations, keep in mind that the <code>associatedAttribute</code> will be the key name specified in your associatING model config for the associatED model or collection.  </p>
</blockquote>
