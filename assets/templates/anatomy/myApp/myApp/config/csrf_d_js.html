<h1 id="myapp-config-csrf-js">myApp/config/csrf.js</h1>
<h3 id="purpose">Purpose</h3>
<p>This file defines how your Sails app handles CSRF and contains settings for configuring it.</p>
<p>Cross-Site Request Forgery Protection tokens are like a tracking chip.  While a session tells the server that a user &quot;is who they say they are&quot;, a csrf token tells the server &quot;you are where you say you are&quot;.</p>
<p>When enabled, all non-GET requests to the Sails server must be accompanied by a special token, identified as the <code>_csrf</code> parameter.</p>
<p>This option protects your Sails app against cross-site request forgery (or CSRF) attacks. A would-be attacker needs not only a user&#39;s session cookie, but also this timestamped, secret CSRF token, which is refreshed/granted when the user visits a URL on your app&#39;s domain.</p>
<p>This allows us to have certainty that our users&#39; requests haven&#39;t been hijacked, and that the requests they&#39;re making are intentional and legitimate.</p>
<p>This token has a short-lived expiration timeline, and must be acquired by either:</p>
<h5 id="a-for-traditional-view-driven-web-apps-">A) For traditional view-driven web apps:</h5>
<ul>
<li>Fetching it from one of your views, where it may be accessed as a local variable, e.g.<pre><code class="lang-html">&lt;form&gt;
 &lt;input type=&quot;hidden&quot; name=&quot;_csrf&quot; value=&quot;&lt;%= _csrf %&gt;&quot; /&gt;
&lt;/form&gt;</code></pre>
</li>
</ul>
<h5 id="b-for-ajax-socket-heavy-and-or-single-page-apps-">B)    For AJAX/Socket-heavy and/or single-page apps:</h5>
<ul>
<li>Sending a GET request to the <code>/csrfToken</code> route, where it will be returned as JSON, e.g.<pre><code class="lang-javascript">{ _csrf: &#39;ajg4JD(JGdajhLJALHDa&#39; }</code></pre>
</li>
</ul>
<p>Enabling this option requires managing the token in your front-end app. For traditional web apps, it&#39;s as easy as passing the data from a view into a form action.</p>
<p>In AJAX/Socket-heavy apps, just send a GET request to the /csrfToken route to get a valid token.</p>
<h3 id="more-info">More Info</h3>
<blockquote>
<p>For more information on CSRF, check out <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">this hyperlink</a>.</p>
</blockquote>
