<div class="docs deployment">
<h1>Deploying your Sails.js application</h1>
<blockquote>
<p><em><strong>Note:</strong> You are viewing the Sails.js v0.9.0 documentation.  If you&#39;re looking for information on v0.8.x, please visit <a href="http://08x.sailsjs.org">here</a>.</em></p>
</blockquote>
<h2>Considerations</h2>
<p>Before you launch any web application, you should consider a few factors:
+ What is your expected traffic?
+ Are you contractually required to meet any uptime guarantees?
+ What sorts of front-end apps will be &quot;hitting&quot; your infrastructure?  And what kinds of things will they be requesting?
+ Will you be taking advantage of realtime pubsub features with Socket.io?</p>
<h2>Here&#39;s how you deploy in production mode:</h2>
<blockquote>
<p><strong>Note:</strong> This is a quick start. The proper way to deploy is with <a href="http://upstart.ubuntu.com">upstart</a> and <a href="http://nginx.org/">nginx</a> and takes a lot more work to set up.</p>
</blockquote>
<ul>
<li>Install forever: <code>sudo npm install -g forever</code></li>
<li>From your app directory, start the server with forever: <code>forever start app.js --prod</code></li>
</ul>
<p>More about forever: <a href="https://github.com/nodejitsu/forever">https://github.com/nodejitsu/forever</a></p>
<h2>Other things you&#39;ll likely want to do in production:</h2>
<ul>
<li>Configure your app to run on port 80 (if not behind a proxy like nginx)</li>
<li>Put it in &quot;production&quot; mode so that all of your css/js gets bundled up (requires <a href="#!documentation/assets">linker</a>)</li>
</ul>
<p><strong>config/local.js</strong></p>
<pre><code class="lang-javascript">// Local configuration
// 
// Included in the .gitignore by default,
// this is where you include configuration overrides for your local system
// or for a production deployment.
//
// For example, to use port 80 on the local machine, override the `port` config
module.exports = {
    port: 80,
    environment: &#39;production&#39;,
    adapters: {
        mysql: {
            user: &#39;root&#39;,
            password: &#39;12345&#39;
        }
    }
}</code></pre>
<h4>More on that here:</h4>
<p><a href="http://www.youtube.com/watch?v=GK-tFvpIR7c">http://www.youtube.com/watch?v=GK-tFvpIR7c</a></p>
<p>The big omission from that video is that, if you plan on keeping your app running (which you probably do!), you&#39;ll need to follow the steps mentioned above to use <code>forever.</code></p>
<h2>Getting your app on the server</h2>
<p>Is your Node.js instance already spun up?  When you have the ip address, you can go ahead and ssh onto it, then <code>sudo npm install -g forever</code> to install Sails and forever for the first time.  </p>
<p>Then <code>git clone</code> your project (or <code>scp</code> it onto the server if it&#39;s not in a git repo) into a new folder on the server and cd into it, and <code>forever start app.js</code></p>
<h2>Deploying to NodeJitsu?</h2>
<p>The Cloud is the future, and we want to help you get there.  To Depoloy to NodeJitsu, You&#39;ll need to make some minor modifications to your configuration.  Don&#39;t worry, It won&#39;t be like writing a new book or anything.</p>
<p>Open up <code>config/local.js</code> in your app folder. In here, you&#39;ll need to add the following lines.</p>
<pre><code>    // Port this Sails application will live on
    port: 80,
    host: &#39;subdomain.jit.su&#39;,</code></pre>
<p>The <code>host:</code> is new to the file and is not created by default.  You will need to add this.  Nodejitsu will ask you for the <code>subdomain</code> when you run <code>jitsu deploy</code></p>
<!-- TODO: heroku deploy (with grunt postinstall script) -->

</div>